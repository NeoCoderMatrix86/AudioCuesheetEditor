<!--
This file is part of AudioCuesheetEditor.

AudioCuesheetEditor is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

AudioCuesheetEditor is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Foobar.  If not, see
<http: //www.gnu.org/licenses />.
-->
@inject ITextLocalizer<TrackListControlButtons> _localizer

<Buttons Role="ButtonsRole.Toolbar">
    <Buttons Margin="Margin.Is2.FromEnd">
        <Tooltip Text="@_localizer["Add new track"]">
            <Button Color="Color.Primary" Clicked="AddButtonClicked" Margin="Margin.Is2.OnY.OnMobile.Is0.OnTablet">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                </svg>
                <Span Display="Display.None.OnMobile.None.OnTablet.None.OnDesktop.Inline.OnWidescreen">
                    @_localizer["Add new track"]
                </Span>
            </Button>
        </Tooltip>
    </Buttons>
    <Buttons Margin="Margin.Is2.FromEnd">
        <Tooltip Text="@TooltipTextTrackSelectionVisible">
            <Button Color="Color.Info" Clicked="() => TrackSelectionVisibleChanged.InvokeAsync(!TrackSelectionVisible)" Margin="Margin.Is2.OnY.OnMobile.Is0.OnTablet">
                @if (TrackSelectionVisible)
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-square" viewBox="0 0 16 16">
                        <path d="M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z" />
                        <path d="M8.354 10.354l7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z" />
                    </svg>
                }
                else
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-square" viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                    </svg>
                }
                <Span Display="Display.None.OnMobile.None.OnTablet.None.OnDesktop.None.OnWidescreen.Inline.OnFullHD">
                    @if (TrackSelectionVisible) 
                    {
                        @_localizer["Hide selection of tracks"]
                    }
                    else
                    {
                        @_localizer["Display selection of tracks"]
                    }
                </Span>
            </Button>
        </Tooltip>
        <Tooltip Text="@_localizer["Pin the table header to top, displaying all controls above the table while scrolling through the records"]">
            <Button Color="Color.Secondary" Clicked="() => FixedTableHeaderChanged.InvokeAsync(!FixedTableHeader)" Margin="Margin.Is2.OnY.OnMobile.Is0.OnTablet">
                @if (FixedTableHeader)
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-square" viewBox="0 0 16 16">
                        <path d="M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z" />
                        <path d="M8.354 10.354l7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z" />
                    </svg>
                }
                else
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-square" viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                    </svg>
                }
                <Span Display="Display.None.OnMobile.None.OnTablet.None.OnDesktop.None.OnWidescreen.Inline.OnFullHD">
                    @_localizer["Pin table header"]
                </Span>
            </Button>
        </Tooltip>
    </Buttons>
    <Buttons>
        <Tooltip Text="@_localizer["Edit selected tracks"]">
            <Button Color="Color.Secondary" Clicked="EditSelectedTracksClicked" Disabled="SelectedTracks?.Count == 0" Margin="Margin.Is2.OnY.OnMobile.Is0.OnTablet">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stickies" viewBox="0 0 16 16">
                    <path d="M1.5 0A1.5 1.5 0 0 0 0 1.5V13a1 1 0 0 0 1 1V1.5a.5.5 0 0 1 .5-.5H14a1 1 0 0 0-1-1H1.5z" />
                    <path d="M3.5 2A1.5 1.5 0 0 0 2 3.5v11A1.5 1.5 0 0 0 3.5 16h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 16 9.586V3.5A1.5 1.5 0 0 0 14.5 2h-11zM3 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5V9h-4.5A1.5 1.5 0 0 0 9 10.5V15H3.5a.5.5 0 0 1-.5-.5v-11zm7 11.293V10.5a.5.5 0 0 1 .5-.5h4.293L10 14.793z" />
                </svg>
                <Span Display="Display.None.OnMobile.None.OnTablet.None.OnDesktop.Inline.OnWidescreen">
                    @_localizer["Edit selected tracks"]
                </Span>
            </Button>
        </Tooltip>
        <Tooltip Text="@_localizer["Delete selected tracks"]">
            <Button Color="Color.Warning" Clicked="DeleteSelectedTracksClicked" Disabled="SelectedTracks?.Count == 0" Margin="Margin.Is2.OnY.OnMobile.Is0.OnTablet">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
                </svg>
                <Span Display="Display.None.OnMobile.None.OnTablet.None.OnDesktop.None.OnWidescreen.Inline.OnFullHD">
                    @_localizer["Delete selected tracks"]
                </Span>
            </Button>
        </Tooltip>
        <Tooltip Text="@_localizer["Delete all tracks"]">
            <Button Color="Color.Danger" Clicked="DeleteAllTracksClicked" Margin="Margin.Is2.OnY.OnMobile.Is0.OnTablet">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
                </svg>
                <Span Display="Display.None.OnMobile.None.OnTablet.None.OnDesktop.None.OnWidescreen.Inline.OnFullHD">
                    @_localizer["Delete all tracks"]
                </Span>
            </Button>
        </Tooltip>
    </Buttons>
</Buttons>
<br />

@code {
    [Parameter]
    public EventCallback AddButtonClicked { get; set; }

    [Parameter]
    public EventCallback EditSelectedTracksClicked { get; set; }

    [Parameter]
    public EventCallback DeleteSelectedTracksClicked { get; set; }

    [Parameter]
    public EventCallback DeleteAllTracksClicked { get; set; }

    [Parameter]
    public Boolean FixedTableHeader { get; set; }

    [Parameter]
    public EventCallback<Boolean> FixedTableHeaderChanged { get; set; }

    [Parameter]
    public Boolean TrackSelectionVisible { get; set; }

    [Parameter]
    public EventCallback<Boolean> TrackSelectionVisibleChanged { get; set; }

    [Parameter]
    public IReadOnlyCollection<Track>? SelectedTracks { get; set; }

    String TooltipTextTrackSelectionVisible
    {
        get
        {
            if (TrackSelectionVisible)
            {
                return _localizer["Hide selection of tracks"];
            }
            else
            {
                return _localizer["Display selection of tracks"];
            }
        }
    }
}
